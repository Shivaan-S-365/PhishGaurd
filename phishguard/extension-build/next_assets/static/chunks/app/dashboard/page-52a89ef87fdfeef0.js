(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[105],{966:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>f});var r=t(5155),a=t(2115),l=t(8915),n=t(5317),i=t(5525),o=t(3109),c=t(9397),d=t(5339),x=t(5543),m=t(6932),p=t(1788),b=t(4648),h=t(6422),g=t(3562),u=t(4065),j=t(2502);function f(){let[e,s]=(0,a.useState)([]),[t,j]=(0,a.useState)(""),[f,N]=(0,a.useState)("all"),[v,y]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let e=(0,n.P)((0,n.rJ)(l.db,"reports"),(0,n.My)("createdAt","desc")),t=(0,n.aQ)(e,e=>{s(e.docs.map(e=>({id:e.id,...e.data()}))),y(!1)});return()=>t()},[]);let w=(0,a.useMemo)(()=>{var s;let t=e.length,r=e.reduce((e,s)=>{let t=s.scamType||"Unknown";return e[t]=(e[t]||0)+1,e},{}),a=new Date;a.setDate(a.getDate()-7);let l=e.filter(e=>{var s;return(null==(s=e.createdAt)?void 0:s.toDate)&&e.createdAt.toDate()>a}).length,n=(null==(s=Object.entries(r).sort((e,s)=>{let[,t]=e,[,r]=s;return r-t})[0])?void 0:s[0])||"None";return{totalReports:t,scamTypeCounts:r,recentReports:l,topScamType:n}},[e]),z=(0,a.useMemo)(()=>e.filter(e=>{var s,r;let a=e.url.toLowerCase().includes(t.toLowerCase())||(null==(s=e.reporterEmail)?void 0:s.toLowerCase().includes(t.toLowerCase()))||(null==(r=e.description)?void 0:r.toLowerCase().includes(t.toLowerCase())),l="all"===f||e.scamType===f;return a&&l}),[e,t,f]),C={labels:Object.keys(w.scamTypeCounts),datasets:[{label:"Reports by Type",data:Object.values(w.scamTypeCounts),backgroundColor:["rgba(6, 182, 212, 0.8)","rgba(251, 146, 60, 0.8)","rgba(34, 197, 94, 0.8)","rgba(168, 85, 247, 0.8)","rgba(239, 68, 68, 0.8)","rgba(245, 158, 11, 0.8)"],borderRadius:8,borderWidth:2,borderColor:"rgba(255, 255, 255, 0.1)"}]},k={labels:Object.keys(w.scamTypeCounts),datasets:[{data:Object.values(w.scamTypeCounts),backgroundColor:["rgba(6, 182, 212, 0.8)","rgba(251, 146, 60, 0.8)","rgba(34, 197, 94, 0.8)","rgba(168, 85, 247, 0.8)","rgba(239, 68, 68, 0.8)","rgba(245, 158, 11, 0.8)"],borderWidth:0}]},A=["all",...Array.from(new Set(e.map(e=>e.scamType).filter(Boolean)))];return v?(0,r.jsx)("div",{className:"max-w-6xl mx-auto py-20 px-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-center min-h-[400px]",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-cyan-400"}),(0,r.jsx)("span",{className:"ml-3 text-cyan-400",children:"Loading dashboard..."})]})}):(0,r.jsxs)("div",{className:"max-w-7xl mx-auto py-8 px-4 space-y-8",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-500 mb-4",children:"PhishGuard Dashboard"}),(0,r.jsx)("p",{className:"text-zinc-400 text-lg",children:"Real-time monitoring of phishing and scam reports"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,r.jsx)("div",{className:"bg-gradient-to-br from-cyan-500/10 to-cyan-600/10 border border-cyan-500/20 rounded-xl p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-cyan-400 text-sm font-medium",children:"Total Reports"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-white",children:w.totalReports})]}),(0,r.jsx)(i.A,{className:"w-8 h-8 text-cyan-400"})]})}),(0,r.jsx)("div",{className:"bg-gradient-to-br from-orange-500/10 to-orange-600/10 border border-orange-500/20 rounded-xl p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-orange-400 text-sm font-medium",children:"This Week"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-white",children:w.recentReports})]}),(0,r.jsx)(o.A,{className:"w-8 h-8 text-orange-400"})]})}),(0,r.jsx)("div",{className:"bg-gradient-to-br from-green-500/10 to-green-600/10 border border-green-500/20 rounded-xl p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-green-400 text-sm font-medium",children:"Top Scam Type"}),(0,r.jsx)("p",{className:"text-lg font-bold text-white truncate",children:w.topScamType})]}),(0,r.jsx)(c.A,{className:"w-8 h-8 text-green-400"})]})}),(0,r.jsx)("div",{className:"bg-gradient-to-br from-purple-500/10 to-purple-600/10 border border-purple-500/20 rounded-xl p-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-purple-400 text-sm font-medium",children:"Unique Types"}),(0,r.jsx)("p",{className:"text-3xl font-bold text-white",children:Object.keys(w.scamTypeCounts).length})]}),(0,r.jsx)(d.A,{className:"w-8 h-8 text-purple-400"})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"lg:col-span-2 bg-zinc-900/50 backdrop-blur border border-zinc-800 rounded-xl p-6",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Reports by Scam Type"}),(0,r.jsx)("div",{className:"h-80",children:(0,r.jsx)(u.yP,{data:C,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{labels:{color:"#fff",font:{size:12},padding:20}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#06b6d4",bodyColor:"#fff",borderColor:"#06b6d4",borderWidth:1}},scales:{x:{ticks:{color:"#ccc",font:{size:11}},grid:{color:"rgba(255, 255, 255, 0.1)"}},y:{ticks:{color:"#ccc",font:{size:11}},grid:{color:"rgba(255, 255, 255, 0.1)"}}}}})})]}),(0,r.jsxs)("div",{className:"bg-zinc-900/50 backdrop-blur border border-zinc-800 rounded-xl p-6",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Distribution"}),(0,r.jsx)("div",{className:"h-80",children:(0,r.jsx)(u.nu,{data:k,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{color:"#fff",font:{size:11},padding:15}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.8)",titleColor:"#06b6d4",bodyColor:"#fff"}}}})})]})]}),(0,r.jsxs)("div",{className:"bg-zinc-900/50 backdrop-blur border border-zinc-800 rounded-xl p-6",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[(0,r.jsxs)("div",{className:"relative flex-1",children:[(0,r.jsx)(x.A,{className:"absolute left-3 top-3 w-4 h-4 text-zinc-400"}),(0,r.jsx)("input",{type:"text",placeholder:"Search reports...",value:t,onChange:e=>j(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-zinc-800 border border-zinc-700 rounded-lg text-white placeholder-zinc-400 focus:outline-none focus:border-cyan-500 transition-colors"})]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(m.A,{className:"absolute left-3 top-3 w-4 h-4 text-zinc-400"}),(0,r.jsx)("select",{value:f,onChange:e=>N(e.target.value),className:"pl-10 pr-8 py-2 bg-zinc-800 border border-zinc-700 rounded-lg text-white focus:outline-none focus:border-cyan-500 transition-colors appearance-none",children:A.map(e=>(0,r.jsx)("option",{value:e,children:"all"===e?"All Types":e},e))})]}),(0,r.jsxs)("button",{className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-700 text-white rounded-lg transition-colors",children:[(0,r.jsx)(p.A,{className:"w-4 h-4"}),"Export"]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("h3",{className:"text-xl font-semibold text-white",children:["Recent Reports (",z.length,")"]}),0===z.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(i.A,{className:"w-16 h-16 text-zinc-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-zinc-500 text-lg",children:0===e.length?"No scam reports yet... you're safe for now \uD83D\uDEE1ï¸":"No reports match your current filters"})]}):(0,r.jsx)("div",{className:"grid gap-4",children:z.map(e=>{var s;return(0,r.jsx)("div",{className:"bg-zinc-800/50 border border-zinc-700 rounded-lg p-6 hover:border-cyan-500/30 transition-all duration-200 hover:shadow-lg hover:shadow-cyan-500/10",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-start gap-4",children:[(0,r.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(b.A,{className:"w-4 h-4 text-cyan-400 flex-shrink-0"}),(0,r.jsx)("span",{className:"text-cyan-400 font-medium break-all",children:e.url})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-zinc-300",children:[(0,r.jsx)(h.A,{className:"w-4 h-4 text-zinc-500"}),(0,r.jsx)("span",{children:e.reporterEmail||"Anonymous"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-zinc-400",children:[(0,r.jsx)(g.A,{className:"w-4 h-4 text-zinc-500"}),(0,r.jsx)("span",{children:(null==(s=e.createdAt)?void 0:s.toDate)?new Date(e.createdAt.toDate()).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Unknown"})]})]}),e.scamType&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(d.A,{className:"w-4 h-4 text-orange-400"}),(0,r.jsx)("span",{className:"bg-orange-500/20 text-orange-300 px-2 py-1 rounded-full text-xs font-medium",children:e.scamType})]}),e.description&&(0,r.jsx)("div",{className:"text-zinc-300 text-sm bg-zinc-800/50 rounded-lg p-3 border border-zinc-700",children:(0,r.jsxs)("p",{className:"italic",children:['"',e.description,'"']})})]}),e.imageUrl&&(0,r.jsx)("div",{className:"lg:w-48 flex-shrink-0",children:(0,r.jsx)("img",{src:e.imageUrl,alt:"Reported screenshot",className:"w-full h-32 lg:h-24 object-cover rounded-lg border border-zinc-700 shadow-lg"})})]})},e.id)})})]})]})]})}j.t1.register(j.PP,j.kc,j.E8,j.m_,j.s$,j.Bs)},3448:(e,s,t)=>{Promise.resolve().then(t.bind(t,966))},8915:(e,s,t)=>{"use strict";t.d(s,{db:()=>c,h:()=>o,j:()=>i});var r=t(3915),a=t(5404),l=t(5317);let n=(0,r.Wp)({apiKey:"AIzaSyD5WwqiDw5uM09aiM4grQLQ2dHA4bz0Ni4",authDomain:"phisquard.firebaseapp.com",projectId:"phisquard",storageBucket:"phisquard.firebasestorage.app",messagingSenderId:"176259760839",appId:"1:176259760839:web:48aa4a54f5cb494246f4e2",measurementId:"G-EHGDV729BZ"}),i=(0,a.xI)(n),o=new a.HF,c=(0,l.aU)(n)}},e=>{e.O(0,[135,965,647,670,807,441,964,358],()=>e(e.s=3448)),_N_E=e.O()}]);